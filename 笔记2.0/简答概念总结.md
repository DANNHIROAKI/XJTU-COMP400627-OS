# 操作系统简答概念总结

## 第一章

1、**什么是操作系统**

> 操作系统是用于管理计算机硬件和软件资源。方便用户使用的程序和数据结构的集合

2、**操作系统的作用是什么**

> 1. 计算机软硬件资源的管理者
> 2. 方便用户使用计算机软硬件资源
> 3. 执行用户程序，使用户问题更易解决

3、**什么是脱机I/O**

> I/O操作在外围机/卫星机的控制下完成，使用磁带作为输入输出的中介，不需要在主计算机上进行输入输出

4、**单道批处理系统的特征**

> 单道性、顺序性、自动性
>
> 缺点：CPU与I/O设备忙闲不均

5、**什么是中断**

> 中断是指主机接收到外界的信号（来自CPU内部或外部），立即停止当前的工作，转去执行外来的工作，等执行完以后才回到原来的工作点继续工作

6、**什么是多道**

> 内存中同时存放多个作业，使其处于执行的开始点和结束点之间，共享CPU等计算机资源

7、**多道批处理系统Multiprogrammed Batch Systems的特征**

> 多道性、无序性、调度性
>
> 缺点：无交互能力、用户响应时间长、作业平均周转时间长

8、**什么是分时time-sharing**

> 分时技术就是将处理器的时间分为很短的时间片，按照时间片轮流地将处理器分给各联机作业使用

9、**分时系统的特征**

> 多路性、独占性、交互性、及时性

10、**什么是实时real-time**

> 实时指的是计算机能够对外界信息作出快速处理，并且能在控制对象允许的时间范围内作出快速反应，对时间有严格的限制

11、**什么是网络network**

> 指的是操作系统在一般的功能上添加网络通信和网络服务

12、**什么是分布式distributed**

> 指的是系统将计算分配到若干个物理机上，这些物理机不共享内存或时钟，由自己的本地存储，通过通信设施如高速总线等进行物理机之间的通信

13、**操作系统有什么功能？**

> 处理器管理：进程的控制、同步、通信、调度
>
> 存储器管理：内存的分配、保护、扩充
>
> 设备管理：设备分配、传输控制、设备独立性
>
> 文件管理：目录管理、操作管理、文件保护
>
> 用户接口：命令接口、程序接口、图形接口

14、**操作系统的特征**

> 并发性
>
> 共享性：多个进程共享有限的计算机系统资源。
>
> 虚拟性：一个物理实体映射为若干个对应的逻辑实体——分时或分空间
>
> 异步性：进程的执行顺序和执行时间的不确定性

15、**并发和并行有什么区别**

> 并发指的是两个或多个程序在同一时间间隔内发生
>
> 并行指的是两个或多个程序在同一时刻内发生

## 第二章+第三章

1、**什么是中断interrupt，中断有哪些分类**

> 定义第一章有
>
> 中断包括硬件中断和软件中断
>
> > 硬件中断指的是设备通过中断通知CPU它已经完成了某项操作
> >
> > 软件中断也称为陷阱，包括异常和系统调用

2、**什么是两态Dual-Mode Operation**

> 两态包括用户态和管态
>
> 用户态代表用户执行、管态代表操作系统执行

3、**什么是特权指令**

> 特权指令是指只能由操作系统内核部分使用，不能由用户直接使用的指令，即只能在管态下运行的指令

4、**OS的硬件保护包括什么内容？**

> 两状态操作、I/O保护、CPU保护以及内存保护

5、**什么是系统调用System Calls**

> 系统调用是用户程序与操作系统之间的接口，属于软件中断，由程序通过API进行访问

6、**简述系统调用的过程**

> 1. 用户使用系统调用
> 2. CPU发生中断，发送信号给陷入处理机构
> 3. 处理之前，陷入处理机构保存处理机现场
> 4. 陷入处理机构通过系统调用功能号查找入口地址表，找到子程序入口并执行
> 5. 处理好系统调用后，返回并恢复处理机现场

7、**操作系统包括哪些结构**

> 简单结构MS-DOS|UNIX、层次结构、微内核结构、模块结构以及混合结构

8、 **What is the main advantage of the layered approach to system design**?

> 层次化系统设计的好处：
>
> ①低层和高层分别实现，便于系统进行扩展
>
> ②高层错误不会影响到低层，便于调试，利于功能的增删改
>
> ③调用关系清晰，高层对低层单向依赖，避免递归调用，有利于保证设计和实现的正确性
>
> 缺点：
>
> 系统中所有进程的控制转移、通讯等任务全部交给系统的核心去管理，要花费一定的代价

9、什么是**微内核操作系统**

> 通过划分系统程序与用户程序，将所有不必要的部件移出内核，形成微内核，微内核提供最少量的功能，如进程管理、存储管理以及通信等
>
> 包括两大部分：运行在核心态的内核、运行在用户态并以C/S方式运行的进程

10、**微内核Microkernels操作系统的优点**

> 易于扩展、易于移值
>
> 提高了系统的可靠性
>
> 提供多种操作环境
>
> 便于实现分布计算
>
> 缺点：消息传递会增加开销

## 第四章

1、**顺序执行的特点**

> 顺序性、封闭性、可再现性

2、**并发执行的特点**

> 异步性、失去封闭性、失去可再现性

3、**试比较进程与程序、**

> 1. 进程是动态的，程序是静态的
> 2. 进程是临时的，程序是永久的
> 3. 进程和程序的组成不同，进程包括程序、数据与PCB
> 4. 通过多次执行，一个程序可以产生多个进程；通过系统调用，一个进程可以对应多个程序

4、**进程的特征**

> 动态性（最基本）、并发性、独立性以及异步性

5、**试说明进程的五个状态**

> 新建状态：进程正在被创建
>
> 就绪状态：进程等待分配处理器，已经获得了除处理器外的所有资源
>
> 等待状态：进程等待某个事件的发生而暂停执行，需要被唤醒
>
> 运行状态：进程获得了必要的资源并在CPU上运行
>
> 终止状态：进程执行完毕

6、**说明进程中的状态转换**

> 就绪状态-->执行状态：一个进程被进程调度程序选中
>
> 执行状态-->阻塞状态：请求并等待某个事件发生
>
> 执行状态-->就绪状态：时间片用完或在抢占式调度中有更高优先级的进程变为就绪状态
>
> 阻塞状态-->就绪状态：进程因为等待的某个条件发生而被唤醒

7、**比较短程、中程、长程调度**

> 短程调度是从就绪队列中选择进程并分配给CPU，切换频率高
>
> 中程调度可将进程从内存中移出，从而降低多道程序的程度，之后可以被重新调入内存并从中断处执行，即进行进程交换
>
> 长程调度是从磁盘中的缓冲池选择进程并将其加载到内存中执行，进程进入就绪队列，加载较慢

8、**说明进程间的上下文切换context-switch**

> 当发生上下文切换时，内核CPU会将旧进程的上下文保存在PCB中并加载计划进行的新进程的上下文。

9、PCB**的主要内容**

> 进程标识符
>
> 进程当前状态
>
> 进程队列指针
>
> 程序和数据地址
>
> 进程优先级
>
> CPU现场保护区，包括指令计数器、状态寄存器、通用寄存器

10、**试说明进程创建的过程**

> 1. 申请空白的PCB
> 2. 为新建立的进程分配资源
> 3. 初始化进程控制块
> 4. 将新进程插入就绪队列

11、**说明进程阻塞的过程**

> 1. 停止当前进程的运行
> 2. 保存当前进程的CPU现场
> 3. 将当前进程的状态由执行改为阻塞
> 4. 将阻塞的进程插入等待队列
> 5. 转到进程调度程序，从就绪队列中选择一个进程执行

12、**说明进程唤醒的过程**

> 1. 从等待队列中取出被唤醒进程
> 2. 将被唤醒进程的状态设置为就绪
> 3. 将被唤醒进程插入就绪队列
> 4. 转到进程调度

## 第五章

1、**什么是线程**

> 线程是进程内一个相对独立的、可调度的执行单元
>
> 只包含线程状态、程序计数器、寄存器上下文以及栈等必不可少的资源
>
> 具有就绪、阻塞和执行三种基本状态

2、**进程与线程的比较**

> 调度上：传统操作系统中，进程调度的基本单位，引入线程后线程是独立调度的基本单位
>
> 拥有资源上：进程都是拥有资源的基本单位
>
> 并发性：引入线程后，不仅进程之间可以并发执行，而且线程之间也可以并发执行，提高了操作系统的并发度与吞吐量
>
> 系统开销：创建进程与撤销进程的系统开销要远远大于线程的切换

3、**Discuss the difference between user-level thread and kernel level thread.**

> :one: 调度方式上：内核级线程的调度和切换于进程的调度和切换非常相似，用户级线程不需要操作系统的支持
>
> :two: 调度单位上：用户线程的调度以进程为单位进行，在采用时间片轮转调度算法时，每个进程分配相同的时间片；对于内核级线程，每个线程分配时间片

**4、请说明三种多线程模型及其优缺点。** 

> :one: 多对一模型：多个用户级线程映射到单个内核级线程，用于不支持内核线程的系统中
>
> 缺点：任意时刻只有一个线程可以访问内核，并发度较低，一个用户线程发起系统调用而阻塞则整个进程阻塞
>
> :two: 一对一模型：一个用户级线程映射到一个内核级线程
>
> 优点：提供了更好的并发性，一个用户级线程阻塞允许另一个线程运行
>
> 缺点：每创建一个用户级线程就需要创建一个内核线程，带来了额外的开销
>
> :three: 多对多模型：多个用户级线程映射到多个内核级线程
>
> 优点：不限制应用的线程数，多个线程可实现真正的并发

## 第六章

1、**什么是抢占式调度与非抢占式调度**

> 非抢占式：将CPU分配给某一个进程以后，该进程就一直执行，期间不允许其他进程使用CPU资源，直到该进程结束
>
> 抢占式：允许调度程序根据某个原则，去停止某个正在执行的进程，并将CPU资源分配给另一个进程

2、**抢占原则有哪些**

> 时间片原则、优先级原则、短作业优先原则

3、CPU**调度的准则有哪些**

> 吞吐量要大
>
> 周转事件要短：提交到运行
>
> 等待时间要短
>
> 响应时间要短

4、**如何确定进程的优先级**

> 分为静态优先级和动态优先级
>
> 静态优先级在进程创建时确定，且在整个生命周期中保持不变：可根据进程类型、对资源的需求、用户需求进行确定
>
> 动态优先级可以随进程的推进而变化，影响因素有进程的等待时间、已经使用的CPU时间、资源使用情况

5、**在RR调度中时间片的大小越大越好吗**

> 如果时间片设置的太大，所有进程都会在一个时间片内完成，该算法退化为FCFS；
>
> 如果时间片设置的太小，CPU会在进程之间频繁切换，真正用于用户进程的时间将减少
>
> 因此，时间片大小的设置需要适中

## 第七章

1、**说明进程之间的两种制约关系**

> 间接制约：两个进程无法同时使用同一个资源，必须等待其中的一个进程释放资源以后才能使用，这种关系也称为互斥
>
> 直接制约：某一进程收不到另一进程提供的消息就无法运行下去，处于等待状态，这种关系也称为同步

:label: 只要是同类进程就是互斥关系，不同类进程就是同步关系

2、**什么是临界资源、临界区？(critical section)**

> 临界资源：同时仅允许一个进程使用的资源
>
> 临界区：进程中用于访问临界资源的代码

3、**说明互斥的要求**

> **空闲则入**：其他进程均不处于临界区，则允许一个请求进入临界区的进程立即进入自己的临界区
>
> **忙则等待**：已有进程处于其临界区，则其他进程无法进入
>
> **有限等待**：等待进入临界区的进程不能"死等"；
>
> **让权等待**：不能进入临界区的进程，应释放CPU（如转换到阻塞状态）

## 第八章

1、**死锁deadlock是什么？**

> 计算机系统中多道程序并发执行时，两个或两个以上的进程由于竞争资源而造成的一种互相等待的现象，若无外力作用，这些进程无法向前推进

2、**为什么会产生死锁**

> 竞争资源引起死锁
>
> 进程推进顺序不当引起死锁

3、**说明死锁的四个条件**

> 互斥：一次只有一个进程使用一个资源
>
> 占有并等待：一个进程应该占有一个资源，同时等待另一个资源，这个资源还被另一个进程占有
>
> 不可抢占：一个资源只有当使用它的进程结束以后才能被其他进程使用，不能中途被抢占
>
> 循环等待：等待资源的进程之间存在环

4、**说明处理死锁的四种方法**

> 鸵鸟策略
>
> 预防死锁：抑制死锁的四个必要条件
>
> 避免死锁：可以使用银行家算法防止系统进入不安全状态
>
> 检测与解除死锁：剥夺资源、撤销进程、进程回退

## 第九章

1、**程序执行的步骤**

> 首先，经过编译程序将源代码编译成若干个目标模块，其次通过链接程序将编译好的目标模块与所需的库函数连接在一起，形成装入模块；最后通过装入程序将装入模块装入内存并执行

2、**指令和数据绑定到内存地址可以在三个阶段发生**

> 编译时期、装入时期、执行时期

3、**地址重定位**

> 将程序装入到与其地址空间不一致的物理空间，所引起的一系列地址变换过程

4、**什么是内碎片与外碎片**

> 内碎片：一个分区被进程占用后剩下的多余部分
>
> 外碎片：无法被任何一个进程占用的小分区

5、**分页存储管理系统如何保护内存**

> **一种是地址越界保护；另一种是通过页表中的访问控制信息对内存信息提供保护**。

6、**分页存储管理的特点**

> 优点
>
> 内存利用率高、实现了离散分配、便于存储访问控制、无外部碎片
>
> 缺点
>
> 需要硬件支持，特别是块表；内存访问效率下降、共享比较困难、可能存在nei

7、**分页存储管理的地址变化过程**

> :one: 按页的大小分离出页号和位移量，放入有效地址寄存器中
>
> :two: 将页号与页表长度进行比较，如果页号大于页表长度，越界中断；
>
> :three: 以页号为索引查找页表:将页表始址与页号和页表项长度的乘积相加，便得到该表项在页表中的位置，于是可从中得到该页的物理块号；
>
> :four: 将该物理块号装入物理地址寄存器的高址部分；
>
> :five: 将有效地址寄存器中的位移量直接复制到物理地址寄存器的低位部分，从而形成内存地址。

8、**分段存储管理的地址变化过程**

> **系统将逻辑地址中的段号S与段表长度TL进行比较。若 S≥TL，访问越界；**
>
> **若未越界，则根据段表的始址和该段的段号，计算出该段对应段表项的位置，从中读出该段在内存中的起始地址；**
>
> **然后再检查段内位移d是否超过该段的段长SL。若超过，即 d≥SL，同样发出越界中断信号；**
>
> **若未越界，则将该段的基址与段内位移d相加，得到要访问的内存物理地址。**

9、**分段的特点**

> 没有内碎片，外碎片可以通过内存紧缩来消除
>
> 便于改变进程所占空间的大小
>
> 进程全部装入内存

## 第十章

1、**什么是程序的局部性原理**

> 程序的局部性包括空间局部性和时间局部性
>
> 时间局部性指的是程序中的某条指令一旦执行，则不久的将来该指令可能再次被执行
>
> 空间局部性是指一旦程序访问了某个存储单元，在不久的将来其附近的存储单元也最有可能被访问。

2、**虚拟内存存在什么特征**

> 离散型、多次性、交换性和虚拟性

3、**缺页中断与一般中断的区别**

> 缺页中断在指令**执行期间**产生和处理中断信号，而一般中断在一条指令**执行完后**检查和处理中断信号。
>
> 缺页中断返**回到该指令的开始**重新执行该指令，而一般中断返回到该**指令的下一条指令**执行。
>
> 一条指令在执行期间，可能产生多次缺页中断。

## 十一章

1、**什么是文件**

> 文件是记录在外存上的具有名字的相关信息的集合

2、**什么是文件的物理结构，文件有哪些物理结构**

> 文件的物理结构指的是文件在外存的组织形式
>
> 顺序分配、连接分配、索引结构

3、**索引结构的特点**

> 优点
>
> 即可以顺序存取，也可以随机存取
>
> 满足了文件动态增长以及插入删除的要求
>
> 能充分利用外存
>
> 缺点
>
> 仍然有较多的寻道时间和寻道次数
>
> 索引表本身会带来系统开销

4、**文件目录和目录文件有什么区别**

> **文件目录**：文件控制块的有序集合
>
> **目录文件**：为了实现对文件目录的管理，将文件目录以文件的形式保存在外存，这个文件就叫目录文件

5、FCB分解

> 符号文件目录、基本文件目录

6、**如何进行文件存储空间管理**

> 位图法、空闲块表、空闲块链表、成组链接法

7、文件系统：OS中与文件管理有关的那部分软件及被它们管理的文件和文件属性的集合。

8、文件的使用：用户通过文件系统提供的系统调用来实施对文件的操作。创建、删除、写、读、打开、关闭等

9、目录管理：**实现按名存取文件，提供快速的目录查询手段以提高对文件的检索速度，并能为文件的共享和重名提供方便。**



## 第十三章

1、**什么是设备独立性？ 为什么要引入设备独立性？如何实现设备独立性？**

> **答**：
> :one: 含义：设备独立性是指应用程序独立于具体使用的物理设备
>
> :two: 目的: 为了提高OS的可适应性和可扩展性
>
> :three: 如何实现: 
>
> > 应用程序使用逻辑设备名称来请求使用设备
> >
> > 系统使用物理设备名
> >
> > 系统需将逻辑设备名称转换为某物理设备。 